<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Log in ‚Äî iLARS</title>
  <meta name="description" content="Log in to iLARS as a patient or a doctor.">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/pages/login.css">
  <style>
    .navbar-menu a.btn-login, .navbar-cta a.btn-login, a.btn-login {
      display: inline-flex !important; color: #ffffff !important;
      background-color: #667eea !important;
      background-image: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #ff9a56 100%) !important;
      background-size: 200% 200% !important; border-radius: 9999px !important;
      padding: 0.5rem 1.25rem !important; box-shadow: 0 4px 14px rgba(102, 126, 234, 0.4) !important;
      text-decoration: none !important; font-weight: 600 !important;
    }
    .navbar-menu a.btn-login::after { display: none !important; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-inner">
      <a href="index.html" class="navbar-logo">
        <img src="images/icon.png" alt="iLARS" class="navbar-icon" />
        <span class="navbar-logo-text">iLARS</span>
      </a>
      <ul class="navbar-menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="project.html">Our Project</a></li>
        <li><a href="features.html">Features</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li class="navbar-cta"><a href="login.html" class="btn btn-login">Log in</a></li>
      </ul>
      <button class="navbar-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <main class="login-page">
    <!-- Role selection modal -->
    <div class="role-modal is-open" id="login-role-modal" role="dialog" aria-modal="true" aria-labelledby="role-modal-title">
      <div class="role-modal__backdrop" data-role-modal-close="true" aria-hidden="true"></div>
      <div class="role-modal__dialog" role="document">
        <button type="button" class="role-modal__close" id="role-modal-close" aria-label="Close">√ó</button>
        <h2 class="role-modal__title" id="role-modal-title">Continue as</h2>
        <div class="login-role-cards" id="login-role-cards" role="group" aria-label="Choose login type">
          <button type="button" class="login-role-card" data-role="patient" aria-label="Log in as patient">
            <span class="role-icon" aria-hidden="true">üë§</span>
            <h3 class="role-title">Patient</h3>
            <p class="role-desc">Enter your patient code to fill questionnaires and track your symptoms.</p>
          </button>
          <button type="button" class="login-role-card" data-role="doctor" aria-label="Log in as doctor">
            <span class="role-icon" aria-hidden="true">ü©∫</span>
            <h3 class="role-title">Doctor</h3>
            <p class="role-desc">Sign in with your Google account to access the doctor dashboard.</p>
          </button>
        </div>
      </div>
    </div>

    <div class="login-content">
      <section class="login-hero">
        <h1 class="login-title">Log in to iLARS</h1>
        <p class="login-subtitle">Choose how you want to continue ‚Äî as a patient or as a doctor.</p>
      </section>

      <div class="login-form-wrapper login-form-patient-first" id="login-form-patient" aria-hidden="true">
        <h2 class="form-title">Enter your patient code</h2>
        <form id="form-patient" novalidate>
          <label for="patient-code">Patient code</label>
          <input type="text" id="patient-code" name="patient_code" placeholder="e.g. ABC123" required autocomplete="off">
          <p class="form-error" id="patient-form-error" role="alert"></p>
          <button type="submit" class="btn-submit">Continue</button>
        </form>
        <p class="login-doctor-link">
          <button type="button" class="link-button" id="login-change-role-patient" aria-label="Change role">Change role</button>
        </p>
      </div>

      <div class="login-form-wrapper" id="login-form-doctor" aria-hidden="true">
        <button type="button" class="form-back" id="login-back-doctor" aria-label="Change role">‚Üê Change role</button>
        <h2 class="form-title">Doctor sign in</h2>
        <p class="form-subtitle">Sign in with your Google account to access the doctor dashboard.</p>
        <div id="doctor-signin-container">
          <button type="button" id="btn-google-signin" class="btn-google-signin" aria-label="Sign in with Google">
            <svg class="google-icon" width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
              <g fill="#000" fill-rule="evenodd">
                <path d="M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z" fill="#EA4335"/>
                <path d="M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.21 1.18-.84 2.08-1.79 2.68l2.83 2.2c1.7-1.57 2.68-3.88 2.68-6.38z" fill="#4285F4"/>
                <path d="M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z" fill="#FBBC05"/>
                <path d="M9 18c2.43 0 4.47-.8 5.96-2.18l-2.83-2.2c-.76.53-1.78.9-3.13.9-2.38 0-4.4-1.57-5.12-3.74L.96 13.04C2.45 15.98 5.48 18 9 18z" fill="#34A853"/>
              </g>
            </svg>
            <span>Sign in with Google</span>
          </button>
          <p class="form-error" id="doctor-form-error" role="alert"></p>
          <div id="doctor-loading" class="doctor-loading" style="display: none;">
            <div class="loading-spinner"></div>
            <span>Signing in...</span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p class="logo-footer">iLARS</p>
    <p>Your story after surgery. For informational and educational use only.</p>
  </footer>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  
  <script src="js/config.js"></script>
  <script src="js/firebase/config.js"></script>
  <script src="js/firebase/auth.js"></script>
  <script src="js/components/nav.js"></script>
  <script src="js/pages/login.js"></script>
</body>
</html>
